(function(){const y=document.createElement("link").relList;if(y&&y.supports&&y.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))S(A);new MutationObserver(A=>{for(const p of A)if(p.type==="childList")for(const L of p.addedNodes)L.tagName==="LINK"&&L.rel==="modulepreload"&&S(L)}).observe(document,{childList:!0,subtree:!0});function P(A){const p={};return A.integrity&&(p.integrity=A.integrity),A.referrerPolicy&&(p.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?p.credentials="include":A.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function S(A){if(A.ep)return;A.ep=!0;const p=P(A);fetch(A.href,p)}})();(function(d){let y,P;function S(){P.frequency.value=0}function A(){y.resume()}const p=1,L=2,Q=4,w=64,R=64,E=[{id:"U",index:12,physicalButtonPressed:!1,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"D",index:13,physicalButtonPressed:!1,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"L",index:14,physicalButtonPressed:!1,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"R",index:15,physicalButtonPressed:!1,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"A",index:0,physicalButtonPressed:!1,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"B",index:1,physicalButtonPressed:!1,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1}],o1=()=>{for(const s of E)s.physicalButtonPressed=!1},d1=(s,e)=>e>s.buttons.length-1?null:s.buttons[e],b=[{id:"U",x:13,y:78,width:9,height:9,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"D",x:13,y:98,width:9,height:9,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"L",x:3,y:88,width:9,height:9,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"R",x:23,y:88,width:9,height:9,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"A",x:42,y:88,width:12,height:12,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"B",x:57,y:79,width:12,height:12,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1}];let D,$,j;const J=new Map,u1=(s,e)=>!![...s.values()].includes(e),a1=s=>H(s.pageX,s.pageY,-1),c1=s=>q(s.pageX,s.pageY,-1),l1=s=>z(s.pageX,s.pageY,-1),A1=s=>{for(const e of s.changedTouches)H(e.pageX,e.pageY,e.identifier)},h1=s=>{s.preventDefault();for(const e of s.changedTouches)q(e.pageX,e.pageY,e.identifier)},f1=s=>{s.preventDefault();for(const e of s.changedTouches)z(e.pageX,e.pageY,e.identifier)},H=(s,e,t)=>{const r=Z(s,e),n=e1(r.x,r.y);n==null?J.set(`${t}`,"-"):J.set(`${t}`,n.id)},q=(s,e,t)=>{if(J.get(`${t}`)){const r=Z(s,e),n=e1(r.x,r.y);n==null?J.set(`${t}`,"-"):J.set(`${t}`,n.id)}},z=(s,e,t)=>J.delete(`${t}`),Z=(s,e)=>{if(screen!=null)return{x:Math.round(((s-D.offsetLeft)/D.clientWidth+.5)*$),y:Math.round(((e-D.offsetTop)/D.clientHeight+.5)*j)}},e1=(s,e)=>{for(let t=0;t<b.length;t++){const r=b[t];if(s>=r.x&&s<=r.x+r.width&&e>=r.y&&e<=r.y+r.height)return r}return null},T=[{id:"U",codes:["ArrowUp","KeyW"],physicalKeyDown:!1,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"D",codes:["ArrowDown","KeyS"],physicalKeyDown:!1,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"L",codes:["ArrowLeft","KeyA"],physicalKeyDown:!1,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"R",codes:["ArrowRight","KeyD"],physicalKeyDown:!1,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"A",codes:["KeyZ","Period"],physicalKeyDown:!1,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1},{id:"B",codes:["KeyX","Slash"],physicalKeyDown:!1,pressedPrevious:!1,pressedCurrent:!1,isPressed:!1,isJustPressed:!1,isJustReleased:!1}],p1=s=>{s.code!=="F1"&&s.code!=="F3"&&s.code!=="F6"&&s.code!=="F7"&&s.code!=="Tab"&&s.code!=="AltLeft"&&s.code!=="AltRight"&&s.code!=="ArrowRight"&&s.code!=="ArrowDown"&&s.code!=="ArrowLeft"&&s.code!=="ArrowUp"||s.preventDefault();const e=s1(s.code);e!=null&&(e.physicalKeyDown=!0)},g1=s=>{const e=s1(s.code);e!=null&&(e.physicalKeyDown=!1)},s1=s=>{for(let e=0;e<T.length;e++){const t=T[e];if(t.codes.includes(s))return t}return null},B=0,_=4096,x=4102,Y=4104,k=4104,X=[];function g(s){if(s<0||s>k)throw`Invalid address: peek ${s}`;return X[s]}function v(s,e){if(s<0||s>k)throw`Invalid address: poke ${s}`;X[s]=e}const P1={charWidth:3,charHeight:5,charTrackingDefault:1,charMap:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,1,0,0,1,0,0,1,0,0,0,0,0,1,0],[1,0,1,1,0,1,0,0,0,0,0,0,0,0,0],[1,0,1,1,1,1,1,0,1,1,1,1,1,0,1],[0,1,0,1,1,1,1,0,0,1,1,1,0,1,0],[1,0,1,0,0,1,0,1,0,1,0,0,1,0,1],[1,1,0,1,1,0,1,1,1,1,0,1,0,1,1],[0,1,0,0,1,0,0,0,0,0,0,0,0,0,0],[0,0,1,0,1,0,0,1,0,0,1,0,0,0,1],[1,0,0,0,1,0,0,1,0,0,1,0,1,0,0],[0,0,0,1,0,1,0,1,0,1,0,1,0,0,0],[0,0,0,0,1,0,1,1,1,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,1,0,1,0,0],[0,0,0,0,0,0,1,1,1,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,1,0],[0,0,1,0,0,1,0,1,0,1,0,0,1,0,0],[1,1,1,1,0,1,1,0,1,1,0,1,1,1,1],[0,1,0,1,1,0,0,1,0,0,1,0,1,1,1],[1,1,1,0,0,1,1,1,1,1,0,0,1,1,1],[1,1,1,0,0,1,0,1,1,0,0,1,1,1,1],[1,0,1,1,0,1,1,1,1,0,0,1,0,0,1],[1,1,1,1,0,0,1,1,1,0,0,1,1,1,1],[1,1,1,1,0,0,1,1,1,1,0,1,1,1,1],[1,1,1,0,0,1,0,0,1,0,0,1,0,0,1],[1,1,1,1,0,1,1,1,1,1,0,1,1,1,1],[1,1,1,1,0,1,1,1,1,0,0,1,1,1,1],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,1,0,0],[0,0,1,0,1,0,1,0,0,0,1,0,0,0,1],[0,0,0,1,1,1,0,0,0,1,1,1,0,0,0],[1,0,0,0,1,0,0,0,1,0,1,0,1,0,0],[1,1,1,0,0,1,0,1,0,0,0,0,0,1,0],[1,1,1,1,0,1,1,0,1,1,0,0,1,1,1],[1,1,1,1,0,1,1,1,1,1,0,1,1,0,1],[1,1,1,1,0,1,1,1,0,1,0,1,1,1,1],[1,1,1,1,0,0,1,0,0,1,0,0,1,1,1],[1,1,0,1,0,1,1,0,1,1,0,1,1,1,0],[1,1,1,1,0,0,1,1,0,1,0,0,1,1,1],[1,1,1,1,0,0,1,1,0,1,0,0,1,0,0],[1,1,1,1,0,0,1,0,1,1,0,1,1,1,1],[1,0,1,1,0,1,1,1,1,1,0,1,1,0,1],[1,1,1,0,1,0,0,1,0,0,1,0,1,1,1],[0,0,1,0,0,1,0,0,1,1,0,1,1,1,1],[1,0,1,1,0,1,1,1,0,1,0,1,1,0,1],[1,0,0,1,0,0,1,0,0,1,0,0,1,1,1],[1,0,1,1,1,1,1,0,1,1,0,1,1,0,1],[1,0,1,1,1,1,1,1,1,1,0,1,1,0,1],[1,1,1,1,0,1,1,0,1,1,0,1,1,1,1],[1,1,1,1,0,1,1,1,1,1,0,0,1,0,0],[1,1,1,1,0,1,1,0,1,1,1,1,0,0,1],[1,1,1,1,0,1,1,1,0,1,0,1,1,0,1],[1,1,1,1,0,0,1,1,1,0,0,1,1,1,1],[1,1,1,0,1,0,0,1,0,0,1,0,0,1,0],[1,0,1,1,0,1,1,0,1,1,0,1,1,1,1],[1,0,1,1,0,1,1,0,1,1,0,1,0,1,0],[1,0,1,1,0,1,1,0,1,1,1,1,1,0,1],[1,0,1,1,0,1,0,1,0,1,0,1,1,0,1],[1,0,1,1,0,1,0,1,0,0,1,0,0,1,0],[1,1,1,0,0,1,0,1,0,1,0,0,1,1,1],[0,1,1,0,1,0,0,1,0,0,1,0,0,1,1],[1,0,0,1,0,0,0,1,0,0,0,1,0,0,1],[1,1,0,0,1,0,0,1,0,0,1,0,1,1,0],[0,1,0,1,0,1,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1],[1,0,0,0,1,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,1,1,1,1,1,1,1,1],[0,0,0,1,0,0,1,1,1,1,0,1,1,1,1],[0,0,0,0,0,0,1,1,1,1,0,0,1,1,1],[0,0,0,0,0,1,1,1,1,1,0,1,1,1,1],[0,0,0,0,0,0,1,1,0,1,1,0,1,1,1],[0,0,0,0,1,1,0,1,0,1,1,1,0,1,0],[0,0,0,1,1,1,1,1,1,0,0,1,1,1,1],[0,0,0,1,0,0,1,1,1,1,0,1,1,0,1],[0,0,0,0,1,0,0,0,0,0,1,0,0,1,0],[0,0,0,0,1,0,0,0,0,0,1,0,1,1,0],[0,0,0,1,0,0,1,0,1,1,1,0,1,0,1],[0,0,0,0,1,0,0,1,0,0,1,0,0,1,1],[0,0,0,0,0,0,1,1,1,1,1,1,1,0,1],[0,0,0,0,0,0,1,1,1,1,0,1,1,0,1],[0,0,0,0,0,0,1,1,1,1,0,1,1,1,1],[0,0,0,1,1,1,1,0,1,1,1,1,1,0,0],[0,0,0,1,1,1,1,0,1,1,1,1,0,0,1],[0,0,0,0,0,0,1,1,1,1,0,0,1,0,0],[0,0,0,0,0,0,0,1,1,0,1,0,1,1,0],[0,0,0,0,1,0,1,1,1,0,1,0,0,1,1],[0,0,0,0,0,0,1,0,1,1,0,1,1,1,1],[0,0,0,0,0,0,1,0,1,1,0,1,0,1,0],[0,0,0,0,0,0,1,0,1,1,1,1,1,1,1],[0,0,0,0,0,0,1,0,1,0,1,0,1,0,1],[0,0,0,1,0,1,1,1,1,0,0,1,1,1,0],[0,0,0,1,1,1,0,1,0,0,0,1,1,1,0],[0,1,1,0,1,0,1,0,0,0,1,0,0,1,1],[0,1,0,0,1,0,0,1,0,0,1,0,0,1,0],[1,1,0,0,1,0,0,0,1,0,1,0,1,1,0],[0,0,0,0,0,0,0,1,1,1,1,0,0,0,0]]};function K(s,e,t,r){if(s>e){const n=s;s=e,e=n}for(let n=s;n<=e;n++)h(n,t,r)}function h(s,e,t){s<0||s>=w||e<0||e>=R||v(B+(0|s)+(0|e)*w,t)}function w1(s,e,t,r,n){const i=e.charMap[s.charCodeAt(0)-32];for(let o=0;o<e.charWidth;o++)for(let c=0;c<e.charHeight;c++)i[o+c*e.charWidth]===1&&h(t+o,r+c,n)}let m,C,W,M,G=performance.now();const I=72,F=128,t1=4,r1=4;function i1(s){s-G>1e3/61&&(v(Y,Math.round(1e3/(s-G))),G=s,function(){for(const e of T)e.pressedPrevious=e.pressedCurrent,e.pressedCurrent=e.physicalKeyDown,e.isPressed=e.pressedCurrent,e.isJustPressed=e.pressedCurrent&&!e.pressedPrevious,e.isJustReleased=!e.pressedCurrent&&e.pressedPrevious}(),function(){const e=navigator.getGamepads()[0];if(e)for(const t of E){const r=d1(e,t.index);r!=null&&(r.pressed?t.physicalButtonPressed=!0:t.physicalButtonPressed=!1)}for(const t of E)t.pressedPrevious=t.pressedCurrent,t.pressedCurrent=t.physicalButtonPressed,t.isPressed=t.pressedCurrent,t.isJustPressed=t.pressedCurrent&&!t.pressedPrevious,t.isJustReleased=!t.pressedCurrent&&t.pressedPrevious}(),function(){for(const e of b)e.pressedPrevious=e.pressedCurrent,e.pressedCurrent=u1(J,e.id),e.isPressed=e.pressedCurrent,e.isJustPressed=e.pressedCurrent&&!e.pressedPrevious,e.isJustReleased=!e.pressedCurrent&&e.pressedPrevious}(),function(){for(let e=0;e<6;e++){let t=0;(T[e].isPressed||E[e].isPressed||b[e].isPressed)&&(t|=p),(T[e].isJustPressed||E[e].isJustPressed||b[e].isJustPressed)&&(t|=L),(T[e].isJustReleased||E[e].isJustReleased||b[e].isJustReleased)&&(t|=Q),v(_+e,t)}}(),function(){const e=g(x),t=g(x+1);e>0&&t>0?function(r){P.frequency.value=r}(e):S(),t>0&&v(x+1,t-1)}(),romLoop(),function(){for(let e=B;e<B+w*R;e++){const t=W[g(e)];M.data[4*e+0]=t.r,M.data[4*e+1]=t.g,M.data[4*e+2]=t.b,M.data[4*e+3]=255}C.putImageData(M,t1,r1)}()),window.requestAnimationFrame(i1)}window.addEventListener("load",function(){(function(){for(let s=0;s<=k;s++)X.push(0)})(),y=new window.AudioContext,P=y.createOscillator(),P.type="square",P.frequency.value=0,P.connect(y.destination),P.start(0),window.addEventListener("mousedown",A),window.addEventListener("touchstart",A),window.addEventListener("keydown",A),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&S()}),document.addEventListener("keydown",p1),document.addEventListener("keyup",g1),function(){const s=[0,255,16711680,16711935,65280,65535,16776960,16777215];W=[];for(let e=0;e<=7;e++){const t=s[e],r=(16711680&t)>>16,n=(65280&t)>>8,i=255&t;W.push({r,g:n,b:i})}}(),function(){const s="-webkit-touch-callout: none; -webkit-tap-highlight-color: #000; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; background: #000; color: #888;",e="position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); background: #000};",t="image-rendering: -moz-crisp-edges; image-rendering: -webkit-optimize-contrast; image-rendering: -o-crisp-edges; image-rendering: pixelated;";document.body.style.cssText=s,m=document.createElement("canvas"),m.width=I,m.height=F,C=m.getContext("2d",{alpha:!1}),C.imageSmoothingEnabled=!1,m.style.cssText=e+t,C.fillStyle="#ddd",C.fillRect(0,0,I,F),C.fillStyle="#333",C.fillRect(t1-1,r1-1,w+2,R+2);const r=()=>{const n=innerWidth/innerHeight,i=I/F,o=n<i,c=o?innerWidth:innerHeight*i,a=o?innerWidth/i:innerHeight;m.style.width=`${c}px`,m.style.height=`${a}px`};window.addEventListener("resize",r),r(),document.body.appendChild(m),M=C.createImageData(w,R)}(),window.addEventListener("gamepaddisconnected",o1),function(s,e,t){D=s,$=e,j=t;const r=D.getContext("2d");r.fillRect(13,78,9,29),r.fillRect(3,88,29,9);const n=new Image;n.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABcAAAAFAQMAAACU+uVzAAAABlBMVEUAAAAzM2bT8ENbAAAAAXRSTlMAQObYZgAAABtJREFUCNdjePdKj6GjS4PhxDsgvWgRQ9+jdwBZWAlP4hlWSwAAAABJRU5ErkJggg==",n.onload=()=>{r.drawImage(n,6,71)};const i=new Image;i.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAQMAAABsu86kAAAABlBMVEUAAACZADPodVumAAAAAXRSTlMAQObYZgAAABxJREFUCNdj4GdgsD/AUP8AhP5/gCOICFAKqAAAEwUPVSVDKX4AAAAASUVORK5CYII=",i.onload=()=>{r.drawImage(i,42,88),r.drawImage(i,57,79)};const o=new Image;o.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAFAQMAAABYY9+YAAAABlBMVEUAAAAzM2bT8ENbAAAAAXRSTlMAQObYZgAAABFJREFUCNdjSGCYwPABiCcAAA5KAwFW2JXuAAAAAElFTkSuQmCC",o.onload=()=>{r.drawImage(o,46,101)};const c=new Image;c.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAFAQMAAABYY9+YAAAABlBMVEUAAAAzM2bT8ENbAAAAAXRSTlMAQObYZgAAAA1JREFUCNdjeMAwAYIBEsoDwUh7niQAAAAASUVORK5CYII=",c.onload=()=>{r.drawImage(c,61,92)},document.addEventListener("mousedown",a1),document.addEventListener("mousemove",c1),document.addEventListener("mouseup",l1),document.addEventListener("touchstart",A1),document.addEventListener("touchmove",h1,{passive:!1}),document.addEventListener("touchend",f1,{passive:!1})}(m,I,F),romInit(),window.requestAnimationFrame(i1)}),d.ADDRESS_AUD=x,d.ADDRESS_BTN=_,d.ADDRESS_FPS=Y,d.ADDRESS_GFX=B,d.Anim=class{constructor(s,e,t){this.frames=s,this.frameTicks=e,this.looping=t}getKeyFrame(s){if(this.frames.length===1)return this.frames[0];let e=Math.floor(s/this.frameTicks);return this.looping?e%=this.frames.length:e=Math.min(this.frames.length-1,e),this.frames[e]}isFinished(s){return!this.looping&&s>=this.frames.length*this.frameTicks}},d.BTN_A=4,d.BTN_B=5,d.BTN_D=1,d.BTN_L=2,d.BTN_R=3,d.BTN_U=0,d.COL_BLK=0,d.COL_BLU=1,d.COL_CYN=5,d.COL_GRN=4,d.COL_MAG=3,d.COL_RED=2,d.COL_WHT=7,d.COL_YEL=6,d.GFX_H=R,d.GFX_W=w,d.Rect=class{constructor(s,e,t,r){this.x=s,this.y=e,this.width=t,this.height=r}overlaps(s){return this.x<s.x+s.width&&this.x+this.width>s.x&&this.y<s.y+s.height&&this.y+this.height>s.y}},d.Vec2=class{constructor(s,e){this.x=s,this.y=e}set(s,e){this.x=s,this.y=e}add(s,e){this.x+=s,this.y+=e}scl(s){this.x*=s,this.y*=s}equals(s){return this.x==s.x&&this.y==s.y}},d.beep=function(s,e,t){(g(x+1)<=0||t)&&(v(x,Math.floor(s)),v(x+1,Math.floor(e)))},d.clamp=function(s,e,t){return Math.max(e,Math.min(s,t))},d.clearGfx=function(s){for(let e=B;e<B+w*R;e++)v(e,s>0?s:0)},d.drawCircle=function(s,e,t,r,n){n>=0&&function(i,o,c,a){let u=0,l=c,f=1-c;for(;u<=l;)K(i-u,i+u,o-l,a),K(i-l,i+l,o-u,a),K(i-l,i+l,o+u,a),K(i-u,i+u,o+l,a),f<0?f+=2*u+1:(f+=2*(u-l)+1,l--),u++}(s,e,t,n),function(i,o,c,a){let u=0,l=c,f=1-c;for(;u<=l;)h(i+u,o+l,a),h(i+u,o-l,a),h(i-u,o+l,a),h(i-u,o-l,a),h(i+l,o+u,a),h(i+l,o-u,a),h(i-l,o+u,a),h(i-l,o-u,a),f<0?f+=2*u+1:(f+=2*(u-l)+1,l--),u++}(s,e,t,r)},d.drawImage=function(s,e,t,r,n,i){const o=[...n];if(i){const c=[];for(;o.length;)c.push(o.splice(0,t));if(i.flipX)for(let a=0;a<r;a++)c[a].reverse();i.flipY&&c.reverse();for(let a=0;a<r;a++)for(let u=0;u<t;u++)o[a*t+u]=c[a][u]}for(let c=0;c<r;c++)for(let a=0;a<t;a++){const u=o[a+c*t];u>=0&&h(s+a,e+c,u)}},d.drawLine=function(s,e,t,r,n){s===t?function(i,o,c,a){if(o>c){const u=o;o=c,c=u}for(let u=o;u<=c;u++)h(i,u,a)}(s,e,r,n):e===r?K(s,t,e,n):function(i,o,c,a,u){const l=Math.abs(c-i),f=Math.abs(a-o),m1=i<c?1:-1,y1=o<a?1:-1;let V=l-f;for(h(i,o,u),h(c,a,u);i!==c&&o!==a;){const n1=V<<1;n1>-f&&(V-=f,i+=m1),n1<l&&(V+=l,o+=y1),h(i,o,u)}}(s,e,t,r,n)},d.drawPattern=function(s,e,t,r){for(let n=0;n<t.length;n+=2)h(s+t[n],e+t[n+1],r)},d.drawPixel=h,d.drawRectangle=function(s,e,t,r,n,i){let o=0,c=0,a=0,u=0;t<0?(o=s+t+1,a=s):(o=s,a=s+t-1),r<0?(c=e+r+1,u=e):(c=e,u=e+r-1);for(let l=o;l<=a;l++)for(let f=c;f<=u;f++)l==o||l==a||f==c||f==u?h(l,f,n):i>=0&&h(l,f,i)},d.drawText=function(s,e,t,r,n){const i=n!=null&&n.font?n.font:P1,o=(n==null?void 0:n.tracking)>=0?n.tracking:i.charTrackingDefault;let c=s;for(let a=0;a<t.length;a++)w1(t.charAt(a),i,c,e,r),c+=i.charWidth+o},d.fc64Init=function(s,e){window.romInit=s,window.romLoop=e},d.getFps=function(){return g(Y)},d.getPixel=function(s,e){return s<0||s>=w||e<0||e>=R?-1:g(B+(0|s)+(0|e)*w)},d.isEmptyObject=function(s){return Object.keys(s).length===0&&s.constructor===Object},d.isJustPressed=function(s){return!!(g(_+s)&L)},d.isJustReleased=function(s){return!!(g(_+s)&Q)},d.isPressed=function(s){return!!(g(_+s)&p)},d.peek=g,d.poke=v,d.randomInt=function(s,e){return Math.floor(Math.random()*(e-s+1)+s)},d.swapImageColors=function(s,e,t){if(e.length!=t.length)throw new Error("mismatched old/new list lengths");const r=[...s];for(let n=0;n<e.length;n++)for(let i=0;i<s.length;i++)s[i]===e[n]&&(r[i]=t[n]);return r},d.wrap=function(s,e,t){const r=t-e;return e+((s-e)%r+r)%r}})(window||{});fc64Init(v1,C1);let U=60,O=60,N=4;function v1(){drawPixel(3,3,COL_WHT)}function C1(){isJustPressed(BTN_A)&&N>1&&N--,isJustReleased(BTN_B)&&N<6&&N++,drawPixel(U,O,COL_BLK),isPressed(BTN_U)&&O>0&&O--,isPressed(BTN_D)&&O<GFX_H-1&&O++,isPressed(BTN_L)&&U>0&&U--,isPressed(BTN_R)&&U<GFX_W-1&&U++,drawPixel(U,O,N)}
